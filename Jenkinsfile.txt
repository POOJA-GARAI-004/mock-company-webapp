node {
    stage('Preparation') {
        // Get some code from your forked GitHub repository
        checkout([$class: 'GitSCM', 
                  branches: [[name: '*/main']], 
                  userRemoteConfigs: [[url: 'https://github.com/your-username/mock-company-webapp.git', 
                                      credentialsId: 'YOUR_CREDENTIALS_ID']]])
    }
    stage('Build') {
        // Run the Gradle build
        if (isUnix()) {
            sh './gradlew assemble'
        } else {
            bat 'gradlew.bat assemble'
        }
    }
    stage('Test') {
        // Run the Gradle tests
        if (isUnix()) {
            sh './gradlew test'
        } else {
            bat 'gradlew.bat test'
        }
    }
    stage('Results') {
        junit '**/build/test-results/test/*.xml'
        archiveArtifacts 'build/libs/*.jar'
    }
}
